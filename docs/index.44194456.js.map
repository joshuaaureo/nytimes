{"mappings":"AC6DA,MAAM,EAAU,IA7DhB,MACI,QAAU,kCAAmC,AAE7C,OAAM,cAAe,CACjB,IAAM,EAAM,MAAM,MAAM,CAAC,6DAA6D,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,EAChG,EAAO,MAAM,EAAI,IAAI,GAC3B,OAAO,GAAM,SAAW,EAAE,AAC9B,CACJ,EAsDM,EAAa,IApDnB,MACI,QAAQ,CAAO,CAAE,CACb,QAAQ,GAAG,CAAC,GACC,SAAS,aAAa,CAAC,SACpC,IAAM,EAAgB,SAAS,aAAa,CAAC,mBACvC,EAAoB,SAAS,aAAa,CAAC,uBAIjD,GAHA,EAAc,SAAS,CAAG,GAC1B,EAAkB,SAAS,CAAG,GAE1B,EAAQ,MAAM,CAAG,EAAG,CACpB,IAAM,EAAa,CAAO,CAAC,EAAE,CAE7B,GAAI,EAAW,UAAU,EAAE,CAAC,EAAE,EAAE,IAAK,CACjC,IAAM,EAAgB,SAAS,aAAa,CAAC,MAC7C,CAAA,EAAc,GAAG,CAAG,EAAW,UAAU,CAAC,EAAE,CAAC,GAAG,CAChD,EAAc,WAAW,CAAC,EAC9B,CAEA,IAAM,EAAgB,SAAS,aAAa,CAAC,KAC7C,CAAA,EAAc,WAAW,CAAG,EAAW,KAAK,CAC5C,EAAc,WAAW,CAAC,GAE1B,EAAc,gBAAgB,CAAC,QAAS,KACpC,OAAO,IAAI,CAAC,EAAW,GAAG,CAAE,SAChC,GAEA,EAAQ,KAAK,CAAC,GAAG,OAAO,CAAC,AAAA,IACrB,IAAM,EAAW,SAAS,aAAa,CAAC,OAGxC,GAFA,EAAS,SAAS,CAAC,GAAG,CAAC,YAEnB,EAAM,UAAU,EAAE,CAAC,EAAE,EAAE,IAAK,CAC5B,IAAM,EAAQ,SAAS,aAAa,CAAC,MACrC,CAAA,EAAM,GAAG,CAAG,EAAM,UAAU,CAAC,EAAE,CAAC,GAAG,CACnC,EAAS,WAAW,CAAC,EACzB,CAEA,IAAM,EAAQ,SAAS,aAAa,CAAC,KACrC,CAAA,EAAM,WAAW,CAAG,EAAM,KAAK,CAC/B,EAAS,WAAW,CAAC,GAErB,EAAS,gBAAgB,CAAC,QAAS,KAC/B,OAAO,IAAI,CAAC,EAAM,GAAG,CAAE,SAC3B,GAEA,EAAkB,WAAW,CAAC,EAClC,EACJ,CACJ,CACJ,EAKA,IAAI,EAAe,EAAE,CAEpB,AAAA,CAAA,UACG,EAAe,MAAM,EAAQ,YAAY,GACzC,EAAW,OAAO,CAAC,EACvB,CAAA","sources":["<anon>","src/script.js"],"sourcesContent":["class News {\n    api_key = \"AAcg3bfQ5TnqiBr5JCdvnbU8OCx5uVnM\";\n    async getHeadlines() {\n        const res = await fetch(`https://api.nytimes.com/svc/topstories/v2/world.json?api-key=${this.api_key}`);\n        const data = await res.json();\n        return data?.results || [];\n    }\n}\nclass TopStories {\n    display(stories) {\n        console.log(stories);\n        const main = document.querySelector(\".main\");\n        const featuredStory = document.querySelector(\".featured-story\");\n        const headlineContainer = document.querySelector(\".headline-container\");\n        featuredStory.innerHTML = \"\";\n        headlineContainer.innerHTML = \"\";\n        if (stories.length > 0) {\n            const firstStory = stories[0];\n            if (firstStory.multimedia?.[0]?.url) {\n                const featuredImage = document.createElement(\"img\");\n                featuredImage.src = firstStory.multimedia[0].url;\n                featuredStory.appendChild(featuredImage);\n            }\n            const featuredTitle = document.createElement(\"h2\");\n            featuredTitle.textContent = firstStory.title;\n            featuredStory.appendChild(featuredTitle);\n            featuredStory.addEventListener(\"click\", ()=>{\n                window.open(firstStory.url, \"_blank\");\n            });\n            stories.slice(1).forEach((story)=>{\n                const headline = document.createElement(\"div\");\n                headline.classList.add(\"headline\");\n                if (story.multimedia?.[0]?.url) {\n                    const image = document.createElement(\"img\");\n                    image.src = story.multimedia[0].url;\n                    headline.appendChild(image);\n                }\n                const title = document.createElement(\"h2\");\n                title.textContent = story.title;\n                headline.appendChild(title);\n                headline.addEventListener(\"click\", ()=>{\n                    window.open(story.url, \"_blank\");\n                });\n                headlineContainer.appendChild(headline);\n            });\n        }\n    }\n}\nconst nytimes = new News();\nconst topStories = new TopStories();\nlet allHeadlines = [];\n(async ()=>{\n    allHeadlines = await nytimes.getHeadlines();\n    topStories.display(allHeadlines);\n})();\nfunction search() {\n    const input = document.getElementById(\"searchbar\").value.toLowerCase();\n    const main = document.querySelector(\".main\");\n    const suggestions = document.getElementById(\"suggestions\");\n    const uniqueKeywords = [\n        ...new Set(allHeadlines.flatMap((story)=>story.title.toLowerCase().split(\" \")))\n    ];\n    const suggestedKeywords = uniqueKeywords.filter((keyword)=>keyword.startsWith(input));\n    suggestions.innerHTML = \"\";\n    if (input.length > 0) {\n        suggestions.style.display = \"block\";\n        if (suggestedKeywords.length > 0) suggestedKeywords.slice(0, 5).forEach((keyword)=>{\n            const suggestionItem = document.createElement(\"li\");\n            suggestionItem.textContent = keyword;\n            suggestionItem.addEventListener(\"click\", async ()=>{\n                document.getElementById(\"searchbar\").value = keyword;\n                await performSearch(keyword);\n                suggestions.style.display = \"none\";\n            });\n            suggestions.appendChild(suggestionItem);\n        });\n        else {\n            const noResultItem = document.createElement(\"li\");\n            noResultItem.textContent = \"No result found\";\n            noResultItem.classList.add(\"no-result\");\n            suggestions.appendChild(noResultItem);\n        }\n        const filteredHeadlines = allHeadlines.filter((story)=>story.title.toLowerCase().includes(input));\n        if (filteredHeadlines.length > 0) topStories.display(filteredHeadlines);\n        else {\n            const noResultMessage = document.createElement(\"div\");\n            noResultMessage.textContent = \"No result found\";\n            noResultMessage.classList.add(\"no-result\");\n            main.innerHTML = \"\";\n            main.appendChild(noResultMessage);\n        }\n    } else suggestions.style.display = \"none\";\n}\nasync function performSearch(selectedKeyword) {\n    const main = document.querySelector(\".main\");\n    const suggestions = document.getElementById(\"suggestions\");\n    return new Promise(async (resolve)=>{\n        const storiesByKeyword = allHeadlines.filter((story)=>story.title.toLowerCase().includes(selectedKeyword));\n        suggestions.innerHTML = \"\";\n        setTimeout(()=>{\n            if (storiesByKeyword.length > 0) {\n                main.style.display = \"block\";\n                topStories.display(storiesByKeyword);\n            } else {\n                const noResultMessage = document.createElement(\"div\");\n                noResultMessage.textContent = \"No result found\";\n                noResultMessage.classList.add(\"no-result\");\n                main.innerHTML = \"\";\n                main.appendChild(noResultMessage);\n            }\n            resolve();\n        }, 2000);\n    });\n}\n\n//# sourceMappingURL=index.44194456.js.map\n","class News {\r\n    api_key = \"AAcg3bfQ5TnqiBr5JCdvnbU8OCx5uVnM\"; \r\n\r\n    async getHeadlines() {\r\n        const res = await fetch(`https://api.nytimes.com/svc/topstories/v2/world.json?api-key=${this.api_key}`);\r\n        const data = await res.json();\r\n        return data?.results || [];\r\n    }\r\n}\r\n\r\nclass TopStories {\r\n    display(stories) {\r\n        console.log(stories); \r\n        const main = document.querySelector('.main');\r\n        const featuredStory = document.querySelector('.featured-story');\r\n        const headlineContainer = document.querySelector('.headline-container');\r\n        featuredStory.innerHTML = '';\r\n        headlineContainer.innerHTML = '';\r\n\r\n        if (stories.length > 0) {\r\n            const firstStory = stories[0];\r\n\r\n            if (firstStory.multimedia?.[0]?.url) {\r\n                const featuredImage = document.createElement('img');\r\n                featuredImage.src = firstStory.multimedia[0].url;\r\n                featuredStory.appendChild(featuredImage);\r\n            }\r\n\r\n            const featuredTitle = document.createElement('h2');\r\n            featuredTitle.textContent = firstStory.title;\r\n            featuredStory.appendChild(featuredTitle);\r\n\r\n            featuredStory.addEventListener('click', () => {\r\n                window.open(firstStory.url, '_blank');\r\n            });\r\n\r\n            stories.slice(1).forEach(story => {\r\n                const headline = document.createElement('div');\r\n                headline.classList.add('headline');\r\n\r\n                if (story.multimedia?.[0]?.url) {\r\n                    const image = document.createElement('img');\r\n                    image.src = story.multimedia[0].url;\r\n                    headline.appendChild(image);\r\n                }\r\n\r\n                const title = document.createElement('h2');\r\n                title.textContent = story.title;\r\n                headline.appendChild(title);\r\n\r\n                headline.addEventListener('click', () => {\r\n                    window.open(story.url, '_blank');\r\n                });\r\n\r\n                headlineContainer.appendChild(headline);\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\n\r\nconst nytimes = new News();  \r\nconst topStories = new TopStories();  \r\nlet allHeadlines = [];\r\n\r\n(async () => {\r\n    allHeadlines = await nytimes.getHeadlines();  \r\n    topStories.display(allHeadlines);  \r\n})();\r\n\r\nfunction search() {\r\n    const input = document.getElementById('searchbar').value.toLowerCase();\r\n    const main = document.querySelector('.main');\r\n    const suggestions = document.getElementById('suggestions');\r\n\r\n    const uniqueKeywords = [...new Set(allHeadlines.flatMap(story => story.title.toLowerCase().split(' ')))];\r\n    const suggestedKeywords = uniqueKeywords.filter(keyword => keyword.startsWith(input));\r\n\r\n    suggestions.innerHTML = '';\r\n\r\n    if (input.length > 0) {\r\n        suggestions.style.display = 'block';\r\n\r\n        if (suggestedKeywords.length > 0) {\r\n            suggestedKeywords.slice(0, 5).forEach(keyword => {\r\n                const suggestionItem = document.createElement('li');\r\n                suggestionItem.textContent = keyword;\r\n                suggestionItem.addEventListener('click', async () => {\r\n                    document.getElementById('searchbar').value = keyword;\r\n                    await performSearch(keyword); \r\n                    suggestions.style.display = 'none';\r\n                });\r\n                suggestions.appendChild(suggestionItem);\r\n            });\r\n        } else {\r\n            const noResultItem = document.createElement('li');\r\n            noResultItem.textContent = 'No result found';\r\n            noResultItem.classList.add('no-result');\r\n            suggestions.appendChild(noResultItem);\r\n        }\r\n\r\n        const filteredHeadlines = allHeadlines.filter(story =>\r\n            story.title.toLowerCase().includes(input)\r\n        );\r\n\r\n        if (filteredHeadlines.length > 0) {\r\n            topStories.display(filteredHeadlines);\r\n        } else {\r\n            const noResultMessage = document.createElement('div');\r\n            noResultMessage.textContent = 'No result found';\r\n            noResultMessage.classList.add('no-result');\r\n            main.innerHTML = '';\r\n            main.appendChild(noResultMessage);\r\n        }\r\n    } else {\r\n        suggestions.style.display = 'none';\r\n    }\r\n}\r\n\r\nasync function performSearch(selectedKeyword) {\r\n    const main = document.querySelector('.main');\r\n    const suggestions = document.getElementById('suggestions');\r\n\r\n    return new Promise(async (resolve) => {\r\n        const storiesByKeyword = allHeadlines.filter(story =>\r\n            story.title.toLowerCase().includes(selectedKeyword)\r\n        );\r\n        suggestions.innerHTML = '';\r\n\r\n        setTimeout(() => {\r\n            if (storiesByKeyword.length > 0) {\r\n                main.style.display = 'block';\r\n                topStories.display(storiesByKeyword);\r\n            } else {\r\n                const noResultMessage = document.createElement('div');\r\n                noResultMessage.textContent = 'No result found';\r\n                noResultMessage.classList.add('no-result');\r\n                main.innerHTML = '';\r\n                main.appendChild(noResultMessage);\r\n            }\r\n            resolve(); \r\n        }, 2000); \r\n    });\r\n}\r\n"],"names":["nytimes","api_key","getHeadlines","res","fetch","data","json","results","topStories","display","stories","console","log","document","querySelector","featuredStory","headlineContainer","innerHTML","length","firstStory","multimedia","url","featuredImage","createElement","src","appendChild","featuredTitle","textContent","title","addEventListener","window","open","slice","forEach","story","headline","classList","add","image","allHeadlines"],"version":3,"file":"index.44194456.js.map"}